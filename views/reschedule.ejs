<!DOCTYPE html>
<html>

<head>
  <base href="/">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <title>Installation Flow - NextAqua</title>
  <!-- Favicon-->
  <link rel="icon" href="https://www.nextaqua.in/assets/images/Circlelogo.png" type="image/x-icon">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext" rel="stylesheet"
    type="text/css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">

  <!-- Bootstrap Core Css -->
  <link href="plugins/bootstrap/css/bootstrap.css" rel="stylesheet">

  <!-- Waves Effect Css -->
  <link href="plugins/node-waves/waves.css" rel="stylesheet" />

  <!-- Animation Css -->
  <link href="plugins/animate-css/animate.css" rel="stylesheet" />

  <!-- Morris Chart Css-->
  <link href="plugins/morrisjs/morris.css" rel="stylesheet" />

  <!-- JQuery DataTable Css -->
  <link href="//cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">

  <!-- Custom Css -->
  <link href="css/style.css" rel="stylesheet">

  <!-- AdminBSB Themes. You can choose a theme from css/themes instead of get all themes -->
  <link href="css/themes/all-themes.css" rel="stylesheet" />
  <script>
    localStorage.clear();
    var pathArray = window.location.pathname.split('/');
    console.log(pathArray);
    if (pathArray[2] == undefined) {
      localStorage.setItem("pageNo", 1);
    } else if (pathArray[2] != undefined) {
      localStorage.setItem("pageNo", pathArray[2]);
    }
  </script>
</head>

<body class="theme-teal">

  <!-- #END# Page Loader -->
  <!-- Overlay For Sidebars -->
  <div class="overlay"></div>
  <!-- #END# Overlay For Sidebars -->
  <!-- Top Bar -->
  <nav class="navbar">
    <div class="container-fluid">
      <div class="navbar-header">
        <a href="javascript:void(0);" class="navbar-toggle collapsed" data-toggle="collapse"
          data-target="#navbar-collapse" aria-expanded="false"></a>
        <a href="javascript:void(0);" class="bars"></a>
        <a class="navbar-brand" href="index.html">INSTALLATION FLOW</a>
      </div>
      <div class="collapse navbar-collapse" id="navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          <!-- Call Search -->
          <li><a href="javascript:location.reload();"><i class="material-icons">refresh</i></a>
          </li>
          <!-- #END# Call Search -->


          <!-- <li class="pull-right"><a href="javascript:void(0);" class="js-right-sidebar" data-close="true"><i
                  class="material-icons">more_vert</i></a></li> -->
        </ul>
      </div>
    </div>
  </nav>

  <!-- Right Sidebar -->
  <aside id="rightsidebar" class="right-sidebar">
    <ul class="nav nav-tabs tab-nav-right" role="tablist">
      <li role="presentation" class="active"><a href="#settings" data-toggle="tab">SETTINGS</a></li>
    </ul>
    <div class="tab-content">
      <div role="tabpanel" class="tab-pane fade in active in active" id="settings">
        <div class="demo-settings">
          <p>ORDER SETTINGS</p>
          <ul class="setting-list">
            <li>
              <span>Accepting Orders</span>
              <div class="switch">
                <label><input type="checkbox" checked><span class="lever"></span></label>
              </div>
            </li>
            <li>
              <span>Auto Accept Orders</span>
              <div class="switch">
                <label><input type="checkbox"><span class="lever"></span></label>
              </div>
            </li>
          </ul>
          <!-- <p>SYSTEM SETTINGS</p>
          <ul class="setting-list">
            <li>
              <span>Notifications</span>
              <div class="switch">
                <label><input type="checkbox" checked><span class="lever"></span></label>
              </div>
            </li>
            <li>
              <span>Auto Updates</span>
              <div class="switch">
                <label><input type="checkbox" checked><span class="lever"></span></label>
              </div>
            </li>
          </ul> -->
          <p>ACCOUNT SETTINGS</p>
          <ul class="setting-list">
            <li>
              <span>Offline</span>
              <div class="switch">
                <label><input type="checkbox"><span class="lever"></span></label>
              </div>
            </li>
            <!-- <li>
              <span>Location Permission</span>
              <div class="switch">
                <label><input type="checkbox" checked><span class="lever"></span></label>
              </div>
            </li> -->
          </ul>
        </div>
      </div>
    </div>
  </aside>
  </section>
  <!-- #END# Right Sidebar -->
  <!-- #Top Bar -->


  <section class="content">
    <div class="container-fluid">
      <div class="block-header">
        <!-- <h2>DASHBOARD</h2> -->
      </div>
      <!-- Widgets -->
        <div class="row clearfix">
          <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3" onclick="window.location='/';">
            <div class="info-box-4 hover-zoom-effect">
              <div class="content">
                <div class="text"><b>OPEN ORDERS</b></div>
                <div class="number count-to" data-from="0" data-to="<%=newOrdersCount%>" data-speed="2"
                  data-fresh-interval="20"></div>
              </div>
            </div>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3" onclick="window.location='/reconfirm/0/1/0';">
            <div class="info-box-4 hover-zoom-effect">
              <div class="content">
                <div class="text"><b>RECONFIRM</b></div>
                <div class="number count-to" data-from="0" data-to="<%=reconfirmOrdersCount%>" data-speed="2"
                  data-fresh-interval="20">
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3" onclick="window.location='/readyForInstallation/0/1/0';">
            <div class="info-box-4 hover-zoom-effect">
                <div class="content">
                    <div class="text"><b>READY FOR INSTALLATION</b></div>
                    <div class="number count-to" data-from="0" data-to="<%=readyToInstallCount%>" data-speed="2" data-fresh-interval="20">
                    </div>
                </div>
            </div>
        </div>
          <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3" onclick="window.location='/rescheduled/1';">
            <div class="info-box-4 hover-zoom-effect bg-teal">
              <div class="content">
                <div class="text"><b>RESCHEDULED ORDERS</b></div>
                <div class="number count-to" data-from="0" data-to="<%=totalRescheduleCount%>" data-speed="2"
                  data-fresh-interval="20">
                </div>
              </div>
            </div>
          </div>
          
         
        </div>




        <div class="row clearfix">
         
          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
            <div class="info-box-4 hover-zoom-effect">
              <div class="content">
                <div class="text">
                  <b>SE RESPONSE STATUS</b>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="text">
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4"
                      onclick="window.location='/seResponseStatus/0/pending/1/0';">
                      Pending </br> <b>
                        <%=sePendingList%>
                      </b>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4"
                      onclick="window.location='/seResponseStatus/0/accepted/1/0';">
                      Accepted </br><b>
                        <%=seAcceptedList%>
                      </b>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4"
                      onclick="window.location='/seResponseStatus/0/declined/1/0';">
                      Cancelled </br><b>
                        <%=seDeclinedList%>
                      </b>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
            <div class="info-box-4 hover-zoom-effect">
              <div class="content">
                <div class="text">
                  <b>FARMER RESPONSE STATUS</b>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="text">
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4"
                      onclick="window.location='/viewFarmerStatus/pending/1/0';">
                      Pending </br><b>
                        <%=farmerPendingList%>
                      </b>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4"
                      onclick="window.location='/viewFarmerStatus/accepted/1/0';">
                      Accepted </br><b>
                        <%=farmerAcceptedList%>
                      </b>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4"
                      onclick="window.location='/viewFarmerStatus/cancelled/1/0';">
                      Cancelled </br><b>
                        <%=farmerDeclinedList%>
                      </b>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
            <div class="info-box-4 hover-zoom-effect">
              <div class="content">
                <div class="text">
                  <b>INSTALLATION STATUS</b>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="text">
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4"
                      onclick="window.location='/viewInstallationStatus/pending/1/0/0/0';">
                      In Progress </br><b>
                        <%=installationPendingList%>
                      </b>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4"
                      onclick="window.location='/viewInstallationStatus/partial/1/0/0/0';">
                      Partial </br><b>
                        <%=installationPartialCompleteList%>
                      </b>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4"
                      onclick="window.location='/viewInstallationStatus/completed/1/0/0/0';">
                      Completed </br><b>
                        <%=installationCompletedList%>
                      </b>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>


      <!-- #END# Widgets -->

      <!-- Hover Rows -->
      <div class="row clearfix">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
          <div class="card">
            <div class="header">
              <h2>
                SE-RESCHEDULED ORDERS
              </h2>
              <ul class="header-dropdown m-r--5">
                <li class="dropdown">
                  <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button"
                    aria-haspopup="true" aria-expanded="false">
                    <i class="material-icons">more_vert</i>
                  </a>
                  <ul class="dropdown-menu pull-right">
                    <li><a href="javascript:void(0);">Action</a></li>
                    <li><a href="javascript:void(0);">Another action</a></li>
                    <li><a href="javascript:void(0);">Something else here</a></li>
                  </ul>
                </li>
              </ul>
            </div>
            <div class="body table-responsive">
              <table class="table table-bordered table-striped table-hover js-basic-example dataTable" id="seRescheduleTable">
                <thead>
                  <tr>
                    <th style="text-align: center;">ORDER ID</th>
                    <th style="text-align: center;">REASON</th>
                    <th style="text-align: center;">BDE NAME</th>
                    <th style="text-align: center;">INSTALLATION DATE</th>
                    <th style="text-align: center;">FARMER NAME</th>
                    <th style="text-align: center;">FARM NAME</th>
                    <th style="text-align: center;">FARMER MOBILE</th>
                    <th style="text-align: center;">REGION</th>
                    <th style="text-align: center;">ITEMS &nbsp;-&nbsp; ORD &nbsp;-&nbsp; INST</th>
                    <th style="text-align: center;">REMARKS</th>
                    <th style="text-align: center;">ACTION</th>
                  </tr>
                </thead>
                <tbody style="text-align: center;">
                  <% SErescheduledOrders.forEach(function(singleData){ %>
                    <tr>
                      <td>
                        <%= singleData.data.order.woo_commerce_order_id %>
                      </td>
                      <td>
                        <b>SE Rescheduled</b>
                      </td>
                      <td>
                        <%= singleData.data.order.farmer.relationship_BDE.first_name %>
                      </td>
                      <td>
                        <%= singleData.data.confirmed_date.substring(0,10) %>
                      </td>
                      <td>
                        <%= singleData.data.order.farmer.firstname %>
                      </td>
                      <td>
                        <% singleData.data.farms.forEach(singleFarmName=>{%>
                          <%= singleFarmName.farm.farm_name %> </br>
                          <%}) %>

                      </td>
                      <td>
                        <%= singleData.data.order.farmer.mobile_number %></br><a
                            href="tel:<%= singleData.data.order.farmer.mobile_number %>"><button type="button"
                              class="btn bg-teal btn-circle waves-effect waves-circle waves-float">
                              <i class="material-icons">call</i>
                            </button></a>
                      </td>
                      <td> <button data-trigger="focus" data-container="body" data-toggle="popover"
                        data-placement="top" title="Shipping Address" data-content="<%= singleData.data.order.shipping %>">
                          <%= singleData.data.region %> </button>
                        </td>
                        <td style="width: 15%;">
                          <% if(singleData.powermonItems != "Powermon - 0 - 0" && singleData.apfcItems != "APFC - 0 - 0"){%>
                            <%= singleData.powermonItems %></br>
                            <%= singleData.apfcItems %>
                            <%}else if(singleData.powermonItems == "Powermon - 0 - 0" && singleData.apfcItems != "APFC - 0 - 0"){%>
                              <%= singleData.apfcItems %>
                              <%}else if(singleData.powermonItems != "Powermon - 0 - 0" && singleData.apfcItems == "APFC - 0 - 0"){%>
                                <%= singleData.powermonItems %>
                                <%}else{%>
                                  --
                                  <%}%>
                        </td>
                      <td>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                            <% singleData.remarks.slice(0, 3).forEach(singleRemark=> {%>
                              <% if(singleRemark.remarks.length !=0 ){%>
                                <%= singleRemark.remarks%></br>
                                  <%}else if(singleRemark.remarks.length==0){%>
                                    No Remarks
                                    <%}%>
                                      <% }) %>

                                        <div class="modal fade" id="modal<%=singleData.data.id%>" tabindex="-1"
                                          role="dialog">
                                          <div class="modal-dialog" role="document">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <h4 class="modal-title" id="defaultModalLabel">REMARKS</h4>
                                              </div>
                                              <div class="modal-body">
                                                <table>
                                                  <% singleData.remarks.forEach(singleRemark=> {%>
                                                    <% if(singleRemark.remarks.length !=0 ){%>
                                                      <tr>
                                                        <td>
                                                          <%= singleRemark.modified_date%>
                                                        </td>
                                                        <td>
                                                          <%= singleRemark.remarks%>
                                                        </td>
                                                      </tr>
                                                      <%}else if(singleRemark.remarks.length==0){%>
                                                        No Remarks
                                                        <%}%>
                                                          <% }) %>
                                                </table>
                                              </div>
                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-link waves-effect"
                                                  data-dismiss="modal">CLOSE</button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>


                                        <i class="material-icons" data-toggle="modal"
                                          data-target="#modal<%=singleData.data.id%>">more_horiz</i>

                        </div>
                        <style>
                          li {
                            list-style-type: none;
                          }
                        </style>

                      </td>
                      <td>
                        <a><button data-toggle="modal" data-target="#openFollowupModal<%=singleData.data.id%>" class="btn bg-teal waves-effect col-lg-12 col-md-12 col-sm-12 col-xs-12"> Confirm Date</button>
                        </a>
                      </td>
                    </tr>





                    <div class="modal fade" id="openFollowupModal<%=singleData.data.id%>" tabindex="-1"
                      role="dialog" data-keyboard="false" data-backdrop="static">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h4 class="modal-title" id="largeModalLabel">Add Confirmed Date</h4>
                          </div>
                          <div class="modal-body">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                              <div><input type="date" class="form-control date" id="dateTime<%=singleData.data.id%>"  onchange="handler<%=singleData.data.id%>(event)"></div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                              <select id="timeframe<%=singleData.data.id%>"
                                onchange="selectedTimeFrameFunction<%=singleData.data.id%>()">
                                <option value="">--Select Time--</option>
                                <option value="7AM - 10AM">7:00 AM - 10:00 AM</option>
                                <option value="10AM - 1PM">10:00 AM - 1:00 PM</option>
                                <option value="2PM - 5PM">2:00 PM - 5:00 PM</option>
                                <option value="7AM - 1PM">7:00 AM - 1:00 PM</option>
                                <option value="7AM - 5PM">7:00 AM - 5:00 PM</option>
                              </select>
                            </div>
                          </div>
    
                          <script>
                            function handler<%=singleData.data.id%> (e) {
                              localStorage.removeItem("selectedDate<%= singleData.data.id%>");
                              var x = document.getElementById("dateTime<%=singleData.data.id%>").value;
                              localStorage.setItem("selectedDate<%= singleData.data.id%>", x);
                              var selectedDate = localStorage.getItem("selectedDate<%= singleData.data.id%>");
                              var selectedTimeframe = localStorage.getItem("selectedTimeFrame<%= singleData.data.id%>");
    
                              url = "/assignRescheduleDate/<%=singleData.data.id%>/"+ selectedDate + "/" + selectedTimeframe;
                              $("#addBtn<%=singleData.data.id%>").attr("href", url);
    
                              return true;
                            }
    
    
                            function selectedTimeFrameFunction<%=singleData.data.id%> () {
                                localStorage.removeItem("selectedTimeFrame<%= singleData.data.id%>");
                                var x = document.getElementById("timeframe<%=singleData.data.id%>").value;
                                localStorage.setItem("selectedTimeFrame<%= singleData.data.id%>", x);
                                var selectedDate = localStorage.getItem("selectedDate<%= singleData.data.id%>");
                                var selectedTimeframe = localStorage.getItem("selectedTimeFrame<%= singleData.data.id%>");
    
                                url = "/assignRescheduleDate/<%=singleData.data.id%>/"+ selectedDate + "/" + selectedTimeframe;
                                $("#addBtn<%=singleData.data.id%>").attr("href", url);
    
                                return true;
                              }
    
    
                              function removeLocalSTorage() {
                                localStorage.removeItem("selectedFarmId<%= singleData.data.id%>");
                                localStorage.removeItem("selectedDate<%= singleData.data.id%>");
                                localStorage.removeItem("selectedTimeframe<%= singleData.data.id%>");
                                localStorage.removeItem("remarks<%= singleData.data.id%>");
                              }
                          </script>
    
    
                          <div class="modal-footer">
                            <a href="#" id="addBtn<%=singleData.data.id%>"><button onclick="removeLocalSTorage()" id="followupBtn" type="button" class="btn btn-link waves-effect bg-teal">ASSIGN DATE</button></a>
                            <button onclick="removeLocalSTorage()" type="button" class="btn btn-link waves-effect bg-red" data-dismiss="modal">CLOSE</button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <% }) %>



                    <% SMrescheduledOrders.forEach(function(singleData){ %>
                      <tr>
                        <td>
                          <%= singleData.data.order.woo_commerce_order_id %>
                        </td>
                        <td>
                          <b>SM Rescheduled</b>
                        </td>
                        <td>
                          <%= singleData.data.order.farmer.relationship_BDE.first_name %>
                        </td>
                        <td>
                          <%= singleData.data.created_date.substring(0,10) %>
                        </td>
                        <td>
                          <%= singleData.data.order.farmer.firstname %>
                        </td>
                        <td>
                          <% singleData.data.farms.forEach(singleFarmName=>{%>
                            <%= singleFarmName.farm.farm_name %> </br>
                            <%}) %>
  
                        </td>
                        <td>
                          <%= singleData.data.order.farmer.mobile_number %></br><a
                              href="tel:<%= singleData.data.order.farmer.mobile_number %>"><button type="button"
                                class="btn bg-teal btn-circle waves-effect waves-circle waves-float">
                                <i class="material-icons">call</i>
                              </button></a>
                        </td>
                        <td> <button data-trigger="focus" data-container="body" data-toggle="popover"
                          data-placement="top" title="Shipping Address" data-content="<%= singleData.data.order.shipping %>">
                            <%= singleData.data.region %> </button>
                          </td>
                          <td style="width: 15%;">
                            <% if(singleData.powermonItems != "Powermon - 0 - 0" && singleData.apfcItems != "APFC - 0 - 0"){%>
                              <%= singleData.powermonItems %></br>
                              <%= singleData.apfcItems %>
                              <%}else if(singleData.powermonItems == "Powermon - 0 - 0" && singleData.apfcItems != "APFC - 0 - 0"){%>
                                <%= singleData.apfcItems %>
                                <%}else if(singleData.powermonItems != "Powermon - 0 - 0" && singleData.apfcItems == "APFC - 0 - 0"){%>
                                  <%= singleData.powermonItems %>
                                  <%}else{%>
                                    --
                                    <%}%>
                          </td>
                        <td>
                          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
  
                              <% singleData.remarks.slice(0, 3).forEach(singleRemark=> {%>
                                <% if(singleRemark.remarks.length !=0 ){%>
                                  <%= singleRemark.remarks%></br>
                                    <%}else if(singleRemark.remarks.length==0){%>
                                      No Remarks
                                      <%}%>
                                        <% }) %>
  
                                          <div class="modal fade" id="modal<%=singleData.data.id%>" tabindex="-1"
                                            role="dialog">
                                            <div class="modal-dialog" role="document">
                                              <div class="modal-content">
                                                <div class="modal-header">
                                                  <h4 class="modal-title" id="defaultModalLabel">REMARKS</h4>
                                                </div>
                                                <div class="modal-body">
                                                  <table>
                                                    <% singleData.remarks.forEach(singleRemark=> {%>
                                                      <% if(singleRemark.remarks.length !=0 ){%>
                                                        <tr>
                                                          <td>
                                                            <%= singleRemark.modified_date%>
                                                          </td>
                                                          <td>
                                                            <%= singleRemark.remarks%>
                                                          </td>
                                                        </tr>
                                                        <%}else if(singleRemark.remarks.length==0){%>
                                                          No Remarks
                                                          <%}%>
                                                            <% }) %>
                                                  </table>
                                                </div>
                                                <div class="modal-footer">
                                                  <button type="button" class="btn btn-link waves-effect"
                                                    data-dismiss="modal">CLOSE</button>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
  
  
                                          <i class="material-icons" data-toggle="modal"
                                            data-target="#modal<%=singleData.data.id%>">more_horiz</i>
  
                          </div>
                          <style>
                            li {
                              list-style-type: none;
                            }
                          </style>
  
                        </td>
                        <td>
                          <a><button data-toggle="modal" data-target="#openFollowupModal<%=singleData.data.id%>" class="btn bg-teal waves-effect col-lg-12 col-md-12 col-sm-12 col-xs-12"> Confirm Date</button>
                          </a>
                        </td>
                      </tr>



                      
                      <div class="modal fade" id="openFollowupModal<%=singleData.data.id%>" tabindex="-1"
                        role="dialog" data-keyboard="false" data-backdrop="static">
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h4 class="modal-title" id="largeModalLabel">Add Confirmed Date</h4>
                            </div>
                            <div class="modal-body">
                              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <div><input type="date" class="form-control date" id="dateTime<%=singleData.data.id%>"  onchange="handler<%=singleData.data.id%>(event)"></div>
                              </div>
                              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <select id="timeframe<%=singleData.data.id%>"
                                  onchange="selectedTimeFrameFunction<%=singleData.data.id%>()">
                                  <option value="">--Select Time--</option>
                                  <option value="7AM - 10AM">7:00 AM - 10:00 AM</option>
                                  <option value="10AM - 1PM">10:00 AM - 1:00 PM</option>
                                  <option value="2PM - 5PM">2:00 PM - 5:00 PM</option>
                                  <option value="7AM - 1PM">7:00 AM - 1:00 PM</option>
                                  <option value="7AM - 5PM">7:00 AM - 5:00 PM</option>
                                </select>
                              </div>
                            </div>
      
                            <script>
                              function handler<%=singleData.data.id%> (e) {
                                localStorage.removeItem("selectedDate<%= singleData.data.id%>");
                                var x = document.getElementById("dateTime<%=singleData.data.id%>").value;
                                localStorage.setItem("selectedDate<%= singleData.data.id%>", x);
                                var selectedDate = localStorage.getItem("selectedDate<%= singleData.data.id%>");
                                var selectedTimeframe = localStorage.getItem("selectedTimeFrame<%= singleData.data.id%>");
      
                                url = "/assignRescheduleDate/<%=singleData.data.id%>/"+ selectedDate + "/" + selectedTimeframe;
                                $("#addBtn<%=singleData.data.id%>").attr("href", url);
      
                                return true;
                              }
      
      
                              function selectedTimeFrameFunction<%=singleData.data.id%> () {
                                  localStorage.removeItem("selectedTimeFrame<%= singleData.data.id%>");
                                  var x = document.getElementById("timeframe<%=singleData.data.id%>").value;
                                  localStorage.setItem("selectedTimeFrame<%= singleData.data.id%>", x);
                                  var selectedDate = localStorage.getItem("selectedDate<%= singleData.data.id%>");
                                  var selectedTimeframe = localStorage.getItem("selectedTimeFrame<%= singleData.data.id%>");
      
                                  url = "/assignRescheduleDate/<%=singleData.data.id%>/"+ selectedDate + "/" + selectedTimeframe;
                                  $("#addBtn<%=singleData.data.id%>").attr("href", url);
      
                                  return true;
                                }
      
      
                                function removeLocalSTorage() {
                                  localStorage.removeItem("selectedFarmId<%= singleData.data.id%>");
                                  localStorage.removeItem("selectedDate<%= singleData.data.id%>");
                                  localStorage.removeItem("selectedTimeframe<%= singleData.data.id%>");
                                  localStorage.removeItem("remarks<%= singleData.data.id%>");
                                }
                            </script>
      
      
                            <div class="modal-footer">
                              <a href="#" id="addBtn<%=singleData.data.id%>"><button onclick="removeLocalSTorage()" id="followupBtn" type="button" class="btn btn-link waves-effect bg-teal">ASSIGN DATE</button></a>
                              <button onclick="removeLocalSTorage()" type="button" class="btn btn-link waves-effect bg-red" data-dismiss="modal">CLOSE</button>
                            </div>
                          </div>
                        </div>
                      </div>
                      <% }) %>






                      <% FarmerRescheduledOrders.forEach(function(singleData){ %>
                        <tr>
                          <td>
                            <%= singleData.data.order.woo_commerce_order_id %>
                          </td>
                          <td>
                            <b>Farmer Rescheduled</b>
                          </td>
                          <td>
                            <%= singleData.data.order.farmer.relationship_BDE.first_name %>
                          </td>
                          <td>
                            <%= singleData.data.created_date.substring(0,10) %>
                          </td>
                          <td>
                            <%= singleData.data.order.farmer.firstname %>
                          </td>
                          <td>
                            <% singleData.data.farms.forEach(singleFarmName=>{%>
                              <%= singleFarmName.farm.farm_name %> </br>
                              <%}) %>
    
                          </td>
                          <td>
                            <%= singleData.data.order.farmer.mobile_number %></br><a
                                href="tel:<%= singleData.data.order.farmer.mobile_number %>"><button type="button"
                                  class="btn bg-teal btn-circle waves-effect waves-circle waves-float">
                                  <i class="material-icons">call</i>
                                </button></a>
                          </td>
                          <td> <button data-trigger="focus" data-container="body" data-toggle="popover"
                            data-placement="top" title="Shipping Address" data-content="<%= singleData.data.order.shipping %>">
                              <%= singleData.data.region %> </button>
                            </td>
                            <td style="width: 15%;">
                              <% if(singleData.powermonItems != "Powermon - 0 - 0" && singleData.apfcItems != "APFC - 0 - 0"){%>
                                <%= singleData.powermonItems %></br>
                                <%= singleData.apfcItems %>
                                <%}else if(singleData.powermonItems == "Powermon - 0 - 0" && singleData.apfcItems != "APFC - 0 - 0"){%>
                                  <%= singleData.apfcItems %>
                                  <%}else if(singleData.powermonItems != "Powermon - 0 - 0" && singleData.apfcItems == "APFC - 0 - 0"){%>
                                    <%= singleData.powermonItems %>
                                    <%}else{%>
                                      --
                                      <%}%>
                            </td>
                          <td>
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    
                                <% singleData.remarks.slice(0, 3).forEach(singleRemark=> {%>
                                  <% if(singleRemark.remarks.length !=0 ){%>
                                    <%= singleRemark.remarks%></br>
                                      <%}else if(singleRemark.remarks.length==0){%>
                                        No Remarks
                                        <%}%>
                                          <% }) %>
    
                                            <div class="modal fade" id="modal<%=singleData.data.id%>" tabindex="-1"
                                              role="dialog">
                                              <div class="modal-dialog" role="document">
                                                <div class="modal-content">
                                                  <div class="modal-header">
                                                    <h4 class="modal-title" id="defaultModalLabel">REMARKS</h4>
                                                  </div>
                                                  <div class="modal-body">
                                                    <table>
                                                      <% singleData.remarks.forEach(singleRemark=> {%>
                                                        <% if(singleRemark.remarks.length !=0 ){%>
                                                          <tr>
                                                            <td>
                                                              <%= singleRemark.modified_date%>
                                                            </td>
                                                            <td>
                                                              <%= singleRemark.remarks%>
                                                            </td>
                                                          </tr>
                                                          <%}else if(singleRemark.remarks.length==0){%>
                                                            No Remarks
                                                            <%}%>
                                                              <% }) %>
                                                    </table>
                                                  </div>
                                                  <div class="modal-footer">
                                                    <button type="button" class="btn btn-link waves-effect"
                                                      data-dismiss="modal">CLOSE</button>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
    
    
                                            <i class="material-icons" data-toggle="modal"
                                              data-target="#modal<%=singleData.data.id%>">more_horiz</i>
    
                            </div>
                            <style>
                              li {
                                list-style-type: none;
                              }
                            </style>
    
                          </td>
                          <td>
                            <a><button data-toggle="modal" data-target="#openFollowupModal<%=singleData.data.id%>" class="btn bg-teal waves-effect col-lg-12 col-md-12 col-sm-12 col-xs-12"> Confirm Date</button>
                            </a></br>
                            <a><button data-toggle="modal" data-target="#cancelOrderModal<%=singleData.data.id%>"
                              class="btn bg-red waves-effect col-lg-12 col-md-12 col-sm-12 col-xs-12"
                              id="addBtn<%=singleData.data.id%>1" disabled>Cancel Order</button>
                          </a>
                          </td>


                          <div class="modal fade" id="cancelOrderModal<%=singleData.data.id%>" tabindex="-1"
                            role="dialog" data-keyboard="false" data-backdrop="static">
                            <div class="modal-dialog modal-sm" role="document">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h4 class="modal-title" id="largeModalLabel">Enter Order ID to Cancel Order</h4>
                                </div>
                                <div class="modal-body">
                                  <div class="form-group">
                                    <div class="form-line">
                                      <input type="text" class="form-control"
                                        placeholder="<%=singleData.data.order.woo_commerce_order_id%>"
                                        id="confirmCancelInput<%=singleData.data.id%>" />
                                    </div>
                                  </div>
                                  <!-- onchange="enableButton<%=singleData.data.id%>(this.value)"  -->
                                </div>
                                <div class="modal-footer">
                                  <a href="#" id="cancelButtonWithDates<%=singleData.data.id%>"><button
                                      onclick="removeLocalSTorage()" id="calcelButton<%=singleData.data.id%>"
                                      type="button" class="btn btn-link waves-effect bg-teal" disabled>Cancel Order</button></a>
                                  <button onclick="removeLocalSTorage()" type="button"
                                    class="btn btn-link waves-effect bg-red" data-dismiss="modal">CLOSE</button>
                                </div>
                              </div>
                            </div>
                            <script>
                              var orderID1 = <%=singleData.data.order.woo_commerce_order_id%>;
                              var pageNo1 = localStorage.getItem("pageNo");
  
                              url = "/cancelOrder/" + orderID1 + "/" + pageNo1;
                              console.log(url);
                              $("#cancelButtonWithDates<%=singleData.data.id%>").attr("href", url);
                            </script>
                            <script>
  
                              var el = document.getElementById("confirmCancelInput<%=singleData.data.id%>");
                              el.addEventListener('keyup', function () {
                                var inputValue = document.getElementById("confirmCancelInput<%=singleData.data.id%>").value;
                                var confirmValue = <%=singleData.data.order.woo_commerce_order_id%>;
                                if (parseInt(inputValue) == parseInt(confirmValue)) {
                                  $("#calcelButton<%=singleData.data.id%>").attr("disabled", false);
                                } else {
                                  $("#calcelButton<%=singleData.data.id%>").attr("disabled", true);
                                }
                                console.log(inputValue, confirmValue);
                              });
                            </script>
                          </div>
                        </tr>







                        <div class="modal fade" id="openFollowupModal<%=singleData.data.id%>" tabindex="-1"
                  role="dialog" data-keyboard="false" data-backdrop="static">
                  <div class="modal-dialog" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h4 class="modal-title" id="largeModalLabel">Add Confirmed Date</h4>
                      </div>
                      <div class="modal-body">
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                          <div><input type="date" class="form-control date" id="dateTime<%=singleData.data.id%>"  onchange="handler<%=singleData.data.id%>(event)"></div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                          <select id="timeframe<%=singleData.data.id%>"
                            onchange="selectedTimeFrameFunction<%=singleData.data.id%>()">
                            <option value="">--Select Time--</option>
                            <option value="7AM - 10AM">7:00 AM - 10:00 AM</option>
                            <option value="10AM - 1PM">10:00 AM - 1:00 PM</option>
                            <option value="2PM - 5PM">2:00 PM - 5:00 PM</option>
                            <option value="7AM - 1PM">7:00 AM - 1:00 PM</option>
                            <option value="7AM - 5PM">7:00 AM - 5:00 PM</option>
                          </select>
                        </div>
                      </div>

                      <script>
                        function handler<%=singleData.data.id%> (e) {
                          localStorage.removeItem("selectedDate<%= singleData.data.id%>");
                          var x = document.getElementById("dateTime<%=singleData.data.id%>").value;
                          localStorage.setItem("selectedDate<%= singleData.data.id%>", x);
                          var selectedDate = localStorage.getItem("selectedDate<%= singleData.data.id%>");
                          var selectedTimeframe = localStorage.getItem("selectedTimeFrame<%= singleData.data.id%>");

                          url = "/assignRescheduleDate/<%=singleData.data.id%>/"+ selectedDate + "/" + selectedTimeframe;
                          $("#addBtn<%=singleData.data.id%>").attr("href", url);

                          return true;
                        }


                        function selectedTimeFrameFunction<%=singleData.data.id%> () {
                            localStorage.removeItem("selectedTimeFrame<%= singleData.data.id%>");
                            var x = document.getElementById("timeframe<%=singleData.data.id%>").value;
                            localStorage.setItem("selectedTimeFrame<%= singleData.data.id%>", x);
                            var selectedDate = localStorage.getItem("selectedDate<%= singleData.data.id%>");
                            var selectedTimeframe = localStorage.getItem("selectedTimeFrame<%= singleData.data.id%>");

                            url = "/assignRescheduleDate/<%=singleData.data.id%>/"+ selectedDate + "/" + selectedTimeframe;
                            $("#addBtn<%=singleData.data.id%>").attr("href", url);

                            return true;
                          }


                          function removeLocalSTorage() {
                            localStorage.removeItem("selectedFarmId<%= singleData.data.id%>");
                            localStorage.removeItem("selectedDate<%= singleData.data.id%>");
                            localStorage.removeItem("selectedTimeframe<%= singleData.data.id%>");
                            localStorage.removeItem("remarks<%= singleData.data.id%>");
                          }
                      </script>


                      <div class="modal-footer">
                        <a href="#" id="addBtn<%=singleData.data.id%>"><button onclick="removeLocalSTorage()" id="followupBtn" type="button" class="btn btn-link waves-effect bg-teal">ASSIGN DATE</button></a>
                        <button onclick="removeLocalSTorage()" type="button" class="btn btn-link waves-effect bg-red" data-dismiss="modal">CLOSE</button>
                      </div>
                    </div>
                  </div>
                </div>





                        <% }) %>
                </tbody>

                <nav>
                  <ul class="pagination">
                    <% if(dataPaginationPrevious==null){%>
                      <li class="disabled">
                          <a href="javascript:void(0);">
                              <i class="material-icons">chevron_left</i>
                          </a>
                      </li>
                      <%}else{%>
                        <li>
                          <a href="/reconfirm/0/<%=dataPaginationPageNo-1%>">
                              <i class="material-icons">chevron_left</i>
                          </a>
                      </li>
                      <%}%>
                      <li class="active"><a href="javascript:void(0);">Page <%=dataPaginationPageNo%> of <%=dataPaginationTotalPages%></a></li>

                      <% if(dataPaginationNext==null){%>
                        <li class="disabled">
                            <a href="javascript:void(0);">
                                <i class="material-icons">chevron_right</i>
                            </a>
                        </li>
                        <%}else{%>
                          <li>
                            <a href="/reconfirm/0/<%=dataPaginationPageNo-1%>">
                                <i class="material-icons">chevron_right</i>
                            </a>
                        </li>
                        <%}%>
                  </ul>
              </nav>


              </table>
            </div>
          </div>
        </div>
      </div>
      <!-- #END# Hover Rows -->




 </div>

  </section>

  <!-- <script>
    $(document).ready( function () {
    $('#seRescheduleTable').DataTable();
    $('#smRescheduleTable').DataTable();
    $('#farmRescheduleTable').DataTable();
} );
  </script> -->


  <!-- Jquery Core Js -->
  <script src="plugins/jquery/jquery.min.js"></script>
  <script src="js/pages/ui/tooltips-popovers.js"></script>

  <!-- Bootstrap Core Js -->
  <script src="plugins/bootstrap/js/bootstrap.js"></script>

  <!-- Jquery DataTable Plugin Js -->
  <script src="//cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>

  <!-- Slimscroll Plugin Js -->
  <script src="plugins/jquery-slimscroll/jquery.slimscroll.js"></script>

  <!-- Waves Effect Plugin Js -->
  <script src="plugins/node-waves/waves.js"></script>

  <!-- Jquery CountTo Plugin Js -->
  <script src="plugins/jquery-countto/jquery.countTo.js"></script>

  <!-- Morris Plugin Js -->
  <script src="plugins/raphael/raphael.min.js"></script>
  <script src="plugins/morrisjs/morris.js"></script>

  <!-- ChartJs -->
  <script src="plugins/chartjs/Chart.bundle.js"></script>

  <!-- Flot Charts Plugin Js -->
  <script src="plugins/flot-charts/jquery.flot.js"></script>
  <script src="plugins/flot-charts/jquery.flot.resize.js"></script>
  <script src="plugins/flot-charts/jquery.flot.pie.js"></script>
  <script src="plugins/flot-charts/jquery.flot.categories.js"></script>
  <script src="plugins/flot-charts/jquery.flot.time.js"></script>

  <!-- Sparkline Chart Plugin Js -->
  <script src="plugins/jquery-sparkline/jquery.sparkline.js"></script>

  <!-- Custom Js -->
  <script src="js/admin.js"></script>
  <script src="js/pages/index.js"></script>
  <script src="js/pages/tables/jquery-datatable.js"></script>

  <!-- Demo Js -->
  <script src="js/demo.js"></script>
</body>

</html>